<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>3D T&A Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-gradient-to-r from-gray-50 via-blue-50 to-gray-100 min-h-screen p-6">

  <!-- Header -->
  <div class="flex justify-between items-center mb-8 p-4 rounded-xl  text-white">
    <h1 class="text-black text-2xl font-bold">Merchandising T&A Dashboard</h1>
    <div class="flex items-center">
      <input type="date" id="startDate" class="border rounded-lg px-2 py-1 text-gray-700">
      <input type="date" id="endDate" class="border rounded-lg px-2 py-1 ml-2 text-gray-700">
      <button onclick="applyFilter()"
        class="bg-white text-blue-700 font-semibold px-3 py-1 rounded-lg ml-2 shadow hover:bg-blue-100 transition">Apply</button>
    </div>
  </div>

  <!-- KPI Cards -->
<div id="cardsContainer" class="space-y-10 mb-10">

  <!-- First 2 rows of 5 cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">

    <!-- 1 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-purple-700 
                shadow-md hover:shadow-xl hover:shadow-purple-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-purple-100 shadow-inner">
          <i class="fas fa-cube text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">No of Styles</h4>
      </div>
      <p id="styles" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 2 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-green-700 
                shadow-md hover:shadow-xl hover:shadow-green-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-green-100 shadow-inner">
          <i class="fas fa-list-check text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">T&A Planned Styles</h4>
      </div>
      <p id="planned" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 3 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-blue-700 
                shadow-md hover:shadow-xl hover:shadow-blue-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-blue-100 shadow-inner">
          <i class="fas fa-calendar-check text-lg"></i>
        </div>
        <h4 class="font-semibold text-base text-nowrap">Total Activity Planned</h4>
      </div>
      <p id="total" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 4 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-red-700 
                shadow-md hover:shadow-xl hover:shadow-red-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-red-100 shadow-inner">
          <i class="fas fa-check-double text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Tasks Completed</h4>
      </div>
      <p id="completed" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 5 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-yellow-700 
                shadow-md hover:shadow-xl hover:shadow-yellow-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-yellow-100 shadow-inner">
          <i class="fas fa-hourglass-half text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Pending Tasks</h4>
      </div>
      <p id="pending" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 6 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-indigo-700 
                shadow-md hover:shadow-xl hover:shadow-indigo-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-indigo-100 shadow-inner">
          <i class="fas fa-industry text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Production Lines</h4>
      </div>
      <p id="lines" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 7 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-pink-700 
                shadow-md hover:shadow-xl hover:shadow-pink-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-1 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-pink-100 shadow-inner">
          <i class="fas fa-users text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Workers Assigned</h4>
      </div>
      <p id="workers" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 8 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-orange-700 
                shadow-md hover:shadow-xl hover:shadow-orange-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-orange-100 shadow-inner">
          <i class="fas fa-boxes-stacked text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Materials Ready</h4>
      </div>
      <p id="materials" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 9 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-teal-700 
                shadow-md hover:shadow-xl hover:shadow-teal-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-teal-100 shadow-inner">
          <i class="fas fa-truck text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Upcoming Delivery</h4>
      </div>
      <p id="delivery" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 10 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-cyan-700 
                shadow-md hover:shadow-xl hover:shadow-cyan-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-cyan-100 shadow-inner">
          <i class="fas fa-chart-line text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Efficiency</h4>
      </div>
      <p id="efficiency" class="text-3xl font-extrabold text-center">0%</p>
    </div>
  </div>

  <!-- Next rows of 4 cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">

    <!-- 11 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-lime-700 
                shadow-md hover:shadow-xl hover:shadow-lime-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-lime-100 shadow-inner">
          <i class="fas fa-clock text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">On-Time</h4>
      </div>
      <p id="onTime" class="text-3xl font-extrabold text-center">0%</p>
    </div>

    <!-- 12 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-rose-700 
                shadow-md hover:shadow-xl hover:shadow-rose-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-rose-100 shadow-inner">
          <i class="fas fa-calendar-day text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Today’s Tasks</h4>
      </div>
      <p id="today" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 13 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-sky-700 
                shadow-md hover:shadow-xl hover:shadow-sky-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-sky-100 shadow-inner">
          <i class="fas fa-list-ul text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Upcoming Tasks</h4>
      </div>
      <p id="upcoming" class="text-3xl font-extrabold text-center">0</p>
    </div>

    <!-- 14 -->
    <div class="relative p-6 rounded-2xl bg-white/70 backdrop-blur-lg text-emerald-700 
                shadow-md hover:shadow-xl hover:shadow-emerald-300/70 transition duration-300 transform hover:scale-105">
      <div class="flex items-center gap-2 mb-3">
        <div class="w-10 h-10 flex items-center justify-center rounded-full bg-emerald-100 shadow-inner">
          <i class="fas fa-check text-lg"></i>
        </div>
        <h4 class="font-semibold text-base">Completion</h4>
      </div>
      <p id="completion" class="text-3xl font-extrabold text-center">0%</p>
    </div>
  </div>
</div>

  <!-- Donut Charts -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-10">
    <div class="bg-white rounded-2xl shadow-xl p-4">
      <h3 class="font-bold text-gray-700 mb-3">Approvals (On-time / Delay / Pending)</h3>
      <div id="approvalsChart"></div>
    </div>
    <div class="bg-white rounded-2xl shadow-xl p-4">
      <h3 class="font-bold text-gray-700 mb-3">PCD Status</h3>
      <div id="pcdStatusChart"></div>
    </div>
  </div>


  <!-- Visibility of Styles Table -->
  <div class="bg-gray-150 rounded-2xl shadow-xl p-6 mb-10 overflow-x-auto transform transition duration-300 hover:scale-[1.02] hover:shadow-2xl">
    <h3 class="text-xl font-bold mb-4 text-gray-800 flex items-center gap-2">
      <i class="fas fa-eye text-blue-600"></i> Visibility of Styles
    </h3>
<table class="w-full border-collapse text-sm rounded-lg overflow-hidden shadow bg-white">
  <thead class="bg-gradient-to-r from-blue-100 to-indigo-100 text-gray-800">
    <tr class="text-left">
      <th class="px-3 py-2">Image</th>
      <th class="px-3 py-2">Buyer</th>
      <th class="px-3 py-2">Style</th>
      <th class="px-3 py-2">Order No</th>
      <th class="px-3 py-2">Order Confirmation</th>
      <th class="px-3 py-2">Fit 1</th>
      <th class="px-3 py-2">Fit 2</th>
      <th class="px-3 py-2">FOB Approval</th>
      <th class="px-3 py-2">File Handover</th>
      <th class="px-3 py-2">PCD Date</th>
      <th class="px-3 py-2">Final Inspection</th>
      <th class="px-3 py-2">Delivery Date</th>
    </tr>
  </thead>
  <tbody class="divide-y divide-gray-200 text-gray-700">
    <tr class="hover:bg-gray-50">
      <td class="px-3 py-2"><img src="https://via.placeholder.com/40" class="rounded-md" alt="Sample"></td>
      <td class="px-3 py-2">Zara</td>
      <td class="px-3 py-2">ST-102</td>
      <td class="px-3 py-2">ORD001</td>
      <td class="px-3 py-2">10-06-2025</td>
      <td class="px-3 py-2">15-06-2025</td>
      <td class="px-3 py-2">20-06-2025</td>
      <td class="px-3 py-2 text-green-600 font-medium">Approved</td>
      <td class="px-3 py-2">22-06-2025</td>
      <td class="px-3 py-2">01-07-2025</td>
      <td class="px-3 py-2">10-07-2025</td>
      <td class="px-3 py-2">15-07-2025</td>
    </tr>
    <tr class="hover:bg-gray-50">
      <td class="px-3 py-2"><img src="https://via.placeholder.com/40" class="rounded-md" alt="Sample"></td>
      <td class="px-3 py-2">H&M</td>
      <td class="px-3 py-2">ST-103</td>
      <td class="px-3 py-2">ORD002</td>
      <td class="px-3 py-2">12-06-2025</td>
      <td class="px-3 py-2">18-06-2025</td>
      <td class="px-3 py-2">23-06-2025</td>
      <td class="px-3 py-2 text-red-600 font-medium">Pending</td>
      <td class="px-3 py-2">25-06-2025</td>
      <td class="px-3 py-2">05-07-2025</td>
      <td class="px-3 py-2">12-07-2025</td>
      <td class="px-3 py-2">18-07-2025</td>
    </tr>
    <tr class="hover:bg-gray-50">
      <td class="px-3 py-2"><img src="https://via.placeholder.com/40" class="rounded-md" alt="Sample"></td>
      <td class="px-3 py-2">Uniqlo</td>
      <td class="px-3 py-2">ST-104</td>
      <td class="px-3 py-2">ORD003</td>
      <td class="px-3 py-2">14-06-2025</td>
      <td class="px-3 py-2">20-06-2025</td>
      <td class="px-3 py-2">25-06-2025</td>
      <td class="px-3 py-2 text-green-600 font-medium">Approved</td>
      <td class="px-3 py-2">28-06-2025</td>
      <td class="px-3 py-2">07-07-2025</td>
      <td class="px-3 py-2">14-07-2025</td>
      <td class="px-3 py-2">20-07-2025</td>
    </tr>
    <tr class="hover:bg-gray-50">
      <td class="px-3 py-2"><img src="https://via.placeholder.com/40" class="rounded-md" alt="Sample"></td>
      <td class="px-3 py-2">Levi's</td>
      <td class="px-3 py-2">ST-105</td>
      <td class="px-3 py-2">ORD004</td>
      <td class="px-3 py-2">16-06-2025</td>
      <td class="px-3 py-2">22-06-2025</td>
      <td class="px-3 py-2">27-06-2025</td>
      <td class="px-3 py-2 text-red-600 font-medium">Pending</td>
      <td class="px-3 py-2">30-06-2025</td>
      <td class="px-3 py-2">10-07-2025</td>
      <td class="px-3 py-2">16-07-2025</td>
      <td class="px-3 py-2">22-07-2025</td>
    </tr>
  </tbody>
</table>



  </div>


  <!-- Charts Section -->
  <div class="bg-white rounded-2xl shadow-xl p-6 mb-10">
    <h3 class="text-gray-700 font-bold mb-3">Plan vs Actual (On-Time)</h3>
    <div id="planVsActual"></div>
  </div>

  <!-- Department-wise Delay Activity -->
  <div class="grid grid-cols-1 gap-6 mb-10">
    <div class="bg-white rounded-2xl shadow-xl p-4">
      <div class="flex flex-wrap items-center gap-4 mb-6">
        <h3 class="font-bold text-gray-700 mb-3">Department-wise Delay Activity</h3>
        <select class="border rounded px-3 py-1">
          <option>Department</option>
        </select>
        <button class="px-4 py-1 bg-gray-300 rounded-lg">Reset</button>
      </div>
      <div id="departmentDelayChart" class="w-full"></div>
    </div>
  </div>

  <!-- Top 10 Styles -->
  <div class="grid grid-cols-1 gap-6 mb-10">
    <div class="bg-white rounded-2xl shadow-xl p-4">
      <h3 class="font-bold text-gray-700 mb-3">Top 10 Styles (Highest Task Delay)</h3>
      <div id="top10Styles" class="w-full"></div>
    </div>
  </div>

  
  <!-- Modal Popup -->
  <div id="popupModal" class="fixed inset-0 bg-black bg-opacity-40 hidden flex items-center justify-center z-50">
    <div class="bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl w-96 relative animate-fadeIn border border-gray-200">
      <button onclick="closePopup()" class="absolute top-3 right-3 text-gray-500 hover:text-black transition">
        <i class="fas fa-times"></i>
      </button>
      <h2 id="popupTitle" class="text-xl font-bold mb-3 text-blue-700"></h2>
      <p id="popupContent" class="text-gray-700 text-sm leading-relaxed"></p>
    </div>
  </div>

<script>  
  /* ✅ Reusable Donut Options */
  const donutOptions = (labels, data, colors, title) => ({
    chart: { type: "donut", height: 260 },
    labels: labels,
    series: data,
    colors: colors,
    legend: { position: "bottom" },
    dataLabels: {
      enabled: true,
      formatter: (val, opts) => {
        const value = opts.w.config.series[opts.seriesIndex];
        return `${value} (${val.toFixed(1)}%)`;
      }
    },
    plotOptions: {
      pie: {
        donut: {
          size: "70%",
          labels: {
            show: true,
            total: {
              show: true,
              label: title,
              fontSize: "16px",
              fontWeight: 600
            }
          }
        }
      }
    },
    tooltip: {
      y: { formatter: (val) => `${val}` }
    }
  });

  /* ✅ Area Chart (Plan vs Actual) */
  new ApexCharts(document.querySelector("#planVsActual"), {
    chart: { type: "area", height: 280, toolbar: { show: false } },
    series: [{ name: "On-Time %", data: [60, 62, 65, 68, 70] }],
    xaxis: {
      categories: ["2025-08-19", "2025-08-21", "2025-08-23", "2025-08-24", "2025-08-25"],
      labels: { rotate: -45 }
    },
    colors: ["#3b82f6"],
    stroke: { curve: "smooth", width: 3 },
    markers: { size: 5, colors: ["#fff"], strokeColors: "#3b82f6" },
    dataLabels: { enabled: true },
    tooltip: { y: { formatter: (val) => `${val}%` } }
  }).render();

  /* ✅ Department Delay Bar */
  new ApexCharts(document.querySelector("#departmentDelayChart"), {
    chart: { type: "bar", height: 350, toolbar: { show: false } },
    series: [{ name: "Department Delay", data: [1, 1, 2, 3, 2, 1] }],
    xaxis: { categories: ["Dept A", "Dept B", "Dept C", "Dept D", "Dept E", "Dept F"] },
    colors: ["#f97316"],
    plotOptions: { bar: { borderRadius: 6, horizontal: false, columnWidth: "50%" } },
    dataLabels: { enabled: true }
  }).render();

  /* ✅ Top 10 Styles Delay % (Vertical Bar like Department Delay) */
  let stylesData = [
    { name: "Style 1", value: 12 },
    { name: "Style 2", value: 15 },
    { name: "Style 3", value: 10 },
    { name: "Style 4", value: 8 },
    { name: "Style 5", value: 7 },
    { name: "Style 6", value: 6 },
    { name: "Style 7", value: 5 },
    { name: "Style 8", value: 4 },
    { name: "Style 9", value: 3 },
    { name: "Style 10", value: 2 }
  ];

  // ✅ Sort Descending
  stylesData.sort((a, b) => b.value - a.value);

  new ApexCharts(document.querySelector("#top10Styles"), {
    chart: { type: "bar", height: 350, toolbar: { show: false } },
    series: [{ name: "Delay %", data: stylesData.map(s => s.value) }],
    xaxis: { categories: stylesData.map(s => s.name) },
    colors: ["#ef4444"],
    plotOptions: { bar: { borderRadius: 6, horizontal: false, columnWidth: "50%" } },
    dataLabels: { enabled: true, formatter: (val) => `${val}%` },
    tooltip: { y: { formatter: (val) => `${val}% Delay` } }
  }).render();

  /* ✅ Approvals Donut */
  new ApexCharts(document.querySelector("#approvalsChart"), donutOptions(
    ["On-Time", "Delay", "Pending"],
    [3, 2, 1],
    ["#22c55e", "#facc15", "#94a3b8"],
    "Approvals"
  )).render();

  /* ✅ PCD Status Donut */
  new ApexCharts(document.querySelector("#pcdStatusChart"), donutOptions(
    ["Met", "Not-Met", "Pending"],
    [3, 2, 1],
    ["#22c55e", "#ef4444", "#3b82f6"],
    "PCD Status"
  )).render();
</script>




  <style>
    .animate-fadeIn {
      animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
  </style>
</body>
</html> 